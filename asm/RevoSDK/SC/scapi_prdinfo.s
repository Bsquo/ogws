.include "macros.inc"

.section .sdata, "wa"
.balign 0x8
# From inlined SCGetProductAreaString(char *, int)
lbl_804BD828:
	.string "AREA"
    .balign 4

.section .data, "wa"
.balign 0x8
ProductAreaAndStringTbl:
	.incbin "baserom.dol", 0x3A5680, 0x48

.section .text, "ax"
.global __SCF1
__SCF1:
/* 800F8DD4 000F3CD4  3C C0 73 B6 */	lis r6, 0x73B5DBFA@ha
/* 800F8DD8 000F3CD8  38 00 00 80 */	li r0, 0x80
/* 800F8DDC 000F3CDC  39 66 DB FA */	addi r11, r6, 0x73B5DBFA@l
/* 800F8DE0 000F3CE0  39 20 00 00 */	li r9, 0
/* 800F8DE4 000F3CE4  39 80 00 00 */	li r12, 0
/* 800F8DE8 000F3CE8  38 C0 00 00 */	li r6, 0
/* 800F8DEC 000F3CEC  39 40 00 00 */	li r10, 0
/* 800F8DF0 000F3CF0  7C 09 03 A6 */	mtctr r0
lbl_800F8DF4:
/* 800F8DF4 000F3CF4  3D 0A 80 00 */	addis r8, r10, 0x8000
/* 800F8DF8 000F3CF8  89 08 38 00 */	lbz r8, 0x3800(r8)
/* 800F8DFC 000F3CFC  2C 08 00 00 */	cmpwi r8, 0
/* 800F8E00 000F3D00  41 82 00 48 */	beq lbl_800F8E48
/* 800F8E04 000F3D04  7C E3 60 AE */	lbzx r7, r3, r12
/* 800F8E08 000F3D08  7D 00 5A 78 */	xor r0, r8, r11
/* 800F8E0C 000F3D0C  54 08 06 3E */	clrlwi r8, r0, 0x18
/* 800F8E10 000F3D10  7C E0 07 75 */	extsb. r0, r7
/* 800F8E14 000F3D14  40 82 00 14 */	bne lbl_800F8E28
/* 800F8E18 000F3D18  28 08 00 3D */	cmplwi r8, 0x3d
/* 800F8E1C 000F3D1C  40 82 00 0C */	bne lbl_800F8E28
/* 800F8E20 000F3D20  39 20 00 01 */	li r9, 1
/* 800F8E24 000F3D24  48 00 00 9C */	b lbl_800F8EC0
lbl_800F8E28:
/* 800F8E28 000F3D28  7C E7 07 74 */	extsb r7, r7
/* 800F8E2C 000F3D2C  38 0C 00 01 */	addi r0, r12, 1
/* 800F8E30 000F3D30  7D 07 3A 78 */	xor r7, r8, r7
/* 800F8E34 000F3D34  70 E7 00 DF */	andi. r7, r7, 0xdf
/* 800F8E38 000F3D38  7C E7 00 34 */	cntlzw r7, r7
/* 800F8E3C 000F3D3C  54 E7 DF FE */	rlwinm r7, r7, 0x1b, 0x1f, 0x1f
/* 800F8E40 000F3D40  7C E7 00 D0 */	neg r7, r7
/* 800F8E44 000F3D44  7C 0C 38 38 */	and r12, r0, r7
lbl_800F8E48:
/* 800F8E48 000F3D48  39 4A 00 01 */	addi r10, r10, 1
/* 800F8E4C 000F3D4C  55 67 0F FE */	srwi r7, r11, 0x1f
/* 800F8E50 000F3D50  3D 0A 80 00 */	addis r8, r10, 0x8000
/* 800F8E54 000F3D54  55 60 08 3C */	slwi r0, r11, 1
/* 800F8E58 000F3D58  89 08 38 00 */	lbz r8, 0x3800(r8)
/* 800F8E5C 000F3D5C  7C EB 03 78 */	or r11, r7, r0
/* 800F8E60 000F3D60  2C 08 00 00 */	cmpwi r8, 0
/* 800F8E64 000F3D64  41 82 00 48 */	beq lbl_800F8EAC
/* 800F8E68 000F3D68  7C E3 60 AE */	lbzx r7, r3, r12
/* 800F8E6C 000F3D6C  7D 00 5A 78 */	xor r0, r8, r11
/* 800F8E70 000F3D70  54 08 06 3E */	clrlwi r8, r0, 0x18
/* 800F8E74 000F3D74  7C E0 07 75 */	extsb. r0, r7
/* 800F8E78 000F3D78  40 82 00 14 */	bne lbl_800F8E8C
/* 800F8E7C 000F3D7C  28 08 00 3D */	cmplwi r8, 0x3d
/* 800F8E80 000F3D80  40 82 00 0C */	bne lbl_800F8E8C
/* 800F8E84 000F3D84  39 20 00 01 */	li r9, 1
/* 800F8E88 000F3D88  48 00 00 38 */	b lbl_800F8EC0
lbl_800F8E8C:
/* 800F8E8C 000F3D8C  7C E7 07 74 */	extsb r7, r7
/* 800F8E90 000F3D90  38 0C 00 01 */	addi r0, r12, 1
/* 800F8E94 000F3D94  7D 07 3A 78 */	xor r7, r8, r7
/* 800F8E98 000F3D98  70 E7 00 DF */	andi. r7, r7, 0xdf
/* 800F8E9C 000F3D9C  7C E7 00 34 */	cntlzw r7, r7
/* 800F8EA0 000F3DA0  54 E7 DF FE */	rlwinm r7, r7, 0x1b, 0x1f, 0x1f
/* 800F8EA4 000F3DA4  7C E7 00 D0 */	neg r7, r7
/* 800F8EA8 000F3DA8  7C 0C 38 38 */	and r12, r0, r7
lbl_800F8EAC:
/* 800F8EAC 000F3DAC  55 67 0F FE */	srwi r7, r11, 0x1f
/* 800F8EB0 000F3DB0  55 60 08 3C */	slwi r0, r11, 1
/* 800F8EB4 000F3DB4  7C EB 03 78 */	or r11, r7, r0
/* 800F8EB8 000F3DB8  39 4A 00 01 */	addi r10, r10, 1
/* 800F8EBC 000F3DBC  42 00 FF 38 */	bdnz lbl_800F8DF4
lbl_800F8EC0:
/* 800F8EC0 000F3DC0  2C 09 00 00 */	cmpwi r9, 0
/* 800F8EC4 000F3DC4  41 82 00 74 */	beq lbl_800F8F38
/* 800F8EC8 000F3DC8  39 4A 00 01 */	addi r10, r10, 1
/* 800F8ECC 000F3DCC  48 00 00 5C */	b lbl_800F8F28
lbl_800F8ED0:
/* 800F8ED0 000F3DD0  3C 6A 80 00 */	addis r3, r10, 0x8000
/* 800F8ED4 000F3DD4  55 67 0F FE */	srwi r7, r11, 0x1f
/* 800F8ED8 000F3DD8  88 63 38 00 */	lbz r3, 0x3800(r3)
/* 800F8EDC 000F3DDC  55 60 08 3C */	slwi r0, r11, 1
/* 800F8EE0 000F3DE0  7C EB 03 78 */	or r11, r7, r0
/* 800F8EE4 000F3DE4  2C 03 00 00 */	cmpwi r3, 0
/* 800F8EE8 000F3DE8  41 82 00 20 */	beq lbl_800F8F08
/* 800F8EEC 000F3DEC  7C 60 5A 78 */	xor r0, r3, r11
/* 800F8EF0 000F3DF0  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 800F8EF4 000F3DF4  28 03 00 0D */	cmplwi r3, 0xd
/* 800F8EF8 000F3DF8  41 82 00 0C */	beq lbl_800F8F04
/* 800F8EFC 000F3DFC  28 03 00 0A */	cmplwi r3, 0xa
/* 800F8F00 000F3E00  40 82 00 08 */	bne lbl_800F8F08
lbl_800F8F04:
/* 800F8F04 000F3E04  38 60 00 00 */	li r3, 0
lbl_800F8F08:
/* 800F8F08 000F3E08  2C 03 00 00 */	cmpwi r3, 0
/* 800F8F0C 000F3E0C  98 64 00 00 */	stb r3, 0(r4)
/* 800F8F10 000F3E10  38 C6 00 01 */	addi r6, r6, 1
/* 800F8F14 000F3E14  38 84 00 01 */	addi r4, r4, 1
/* 800F8F18 000F3E18  40 82 00 0C */	bne lbl_800F8F24
/* 800F8F1C 000F3E1C  38 60 00 01 */	li r3, 1
/* 800F8F20 000F3E20  4E 80 00 20 */	blr 
lbl_800F8F24:
/* 800F8F24 000F3E24  39 4A 00 01 */	addi r10, r10, 1
lbl_800F8F28:
/* 800F8F28 000F3E28  28 0A 01 00 */	cmplwi r10, 0x100
/* 800F8F2C 000F3E2C  40 80 00 0C */	bge lbl_800F8F38
/* 800F8F30 000F3E30  7C 06 28 40 */	cmplw r6, r5
/* 800F8F34 000F3E34  41 80 FF 9C */	blt lbl_800F8ED0
lbl_800F8F38:
/* 800F8F38 000F3E38  38 60 00 00 */	li r3, 0
/* 800F8F3C 000F3E3C  4E 80 00 20 */	blr 

.global SCGetProductArea
SCGetProductArea:
/* 800F8F40 000F3E40  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800F8F44 000F3E44  7C 08 02 A6 */	mflr r0
/* 800F8F48 000F3E48  38 6D 84 A8 */	addi r3, r13, lbl_804BD828-_SDA_BASE_
/* 800F8F4C 000F3E4C  38 A0 00 04 */	li r5, 4
/* 800F8F50 000F3E50  90 01 00 24 */	stw r0, 0x24(r1)
/* 800F8F54 000F3E54  38 81 00 08 */	addi r4, r1, 8
/* 800F8F58 000F3E58  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800F8F5C 000F3E5C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800F8F60 000F3E60  3F C0 80 3B */	lis r30, ProductAreaAndStringTbl@ha
/* 800F8F64 000F3E64  3B DE 95 80 */	addi r30, r30, ProductAreaAndStringTbl@l
/* 800F8F68 000F3E68  4B FF FE 6D */	bl __SCF1
/* 800F8F6C 000F3E6C  2C 03 00 00 */	cmpwi r3, 0
/* 800F8F70 000F3E70  41 82 00 38 */	beq lbl_800F8FA8
/* 800F8F74 000F3E74  48 00 00 24 */	b lbl_800F8F98
lbl_800F8F78:
/* 800F8F78 000F3E78  38 7E 00 01 */	addi r3, r30, 1
/* 800F8F7C 000F3E7C  38 81 00 08 */	addi r4, r1, 8
/* 800F8F80 000F3E80  4B FB FE 31 */	bl strcmp
/* 800F8F84 000F3E84  2C 03 00 00 */	cmpwi r3, 0
/* 800F8F88 000F3E88  40 82 00 0C */	bne lbl_800F8F94
/* 800F8F8C 000F3E8C  7F E3 FB 78 */	mr r3, r31
/* 800F8F90 000F3E90  48 00 00 1C */	b lbl_800F8FAC
lbl_800F8F94:
/* 800F8F94 000F3E94  3B DE 00 05 */	addi r30, r30, 5
lbl_800F8F98:
/* 800F8F98 000F3E98  8B FE 00 00 */	lbz r31, 0(r30)
/* 800F8F9C 000F3E9C  7F E0 07 74 */	extsb r0, r31
/* 800F8FA0 000F3EA0  2C 00 FF FF */	cmpwi r0, -1
/* 800F8FA4 000F3EA4  40 82 FF D4 */	bne lbl_800F8F78
lbl_800F8FA8:
/* 800F8FA8 000F3EA8  38 60 FF FF */	li r3, -1
lbl_800F8FAC:
/* 800F8FAC 000F3EAC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800F8FB0 000F3EB0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800F8FB4 000F3EB4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800F8FB8 000F3EB8  7C 08 03 A6 */	mtlr r0
/* 800F8FBC 000F3EBC  38 21 00 20 */	addi r1, r1, 0x20
/* 800F8FC0 000F3EC0  4E 80 00 20 */	blr 
