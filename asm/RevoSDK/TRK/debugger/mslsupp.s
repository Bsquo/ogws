.include "macros.inc"

.section .text, "ax"
.global __TRK_write_console
__TRK_write_console:
/* 800C5860 000C0760  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800C5864 000C0764  7C 08 02 A6 */	mflr r0
/* 800C5868 000C0768  90 01 00 24 */	stw r0, 0x24(r1)
/* 800C586C 000C076C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800C5870 000C0770  7C BF 2B 78 */	mr r31, r5
/* 800C5874 000C0774  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800C5878 000C0778  7C 9E 23 78 */	mr r30, r4
/* 800C587C 000C077C  48 00 09 B1 */	bl GetUseSerialIO
/* 800C5880 000C0780  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 800C5884 000C0784  40 82 00 0C */	bne lbl_800C5890
/* 800C5888 000C0788  38 60 00 01 */	li r3, 1
/* 800C588C 000C078C  48 00 00 78 */	b lbl_800C5904
lbl_800C5890:
/* 800C5890 000C0790  4B FF D9 9D */	bl GetTRKConnected
/* 800C5894 000C0794  2C 03 00 00 */	cmpwi r3, 0
/* 800C5898 000C0798  40 82 00 0C */	bne lbl_800C58A4
/* 800C589C 000C079C  38 60 00 01 */	li r3, 1
/* 800C58A0 000C07A0  48 00 00 64 */	b lbl_800C5904
lbl_800C58A4:
/* 800C58A4 000C07A4  80 1F 00 00 */	lwz r0, 0(r31)
/* 800C58A8 000C07A8  7F C6 F3 78 */	mr r6, r30
/* 800C58AC 000C07AC  38 A1 00 08 */	addi r5, r1, 8
/* 800C58B0 000C07B0  38 60 00 D0 */	li r3, 0xd0
/* 800C58B4 000C07B4  90 01 00 08 */	stw r0, 8(r1)
/* 800C58B8 000C07B8  38 80 00 01 */	li r4, 1
/* 800C58BC 000C07BC  4B FF FC 15 */	bl TRKAccessFile
/* 800C58C0 000C07C0  54 60 06 3E */	clrlwi r0, r3, 0x18
/* 800C58C4 000C07C4  80 61 00 08 */	lwz r3, 8(r1)
/* 800C58C8 000C07C8  2C 00 00 01 */	cmpwi r0, 1
/* 800C58CC 000C07CC  90 7F 00 00 */	stw r3, 0(r31)
/* 800C58D0 000C07D0  41 82 00 30 */	beq lbl_800C5900
/* 800C58D4 000C07D4  40 80 00 10 */	bge lbl_800C58E4
/* 800C58D8 000C07D8  2C 00 00 00 */	cmpwi r0, 0
/* 800C58DC 000C07DC  40 80 00 14 */	bge lbl_800C58F0
/* 800C58E0 000C07E0  48 00 00 20 */	b lbl_800C5900
lbl_800C58E4:
/* 800C58E4 000C07E4  2C 00 00 03 */	cmpwi r0, 3
/* 800C58E8 000C07E8  40 80 00 18 */	bge lbl_800C5900
/* 800C58EC 000C07EC  48 00 00 0C */	b lbl_800C58F8
lbl_800C58F0:
/* 800C58F0 000C07F0  38 60 00 00 */	li r3, 0
/* 800C58F4 000C07F4  48 00 00 10 */	b lbl_800C5904
lbl_800C58F8:
/* 800C58F8 000C07F8  38 60 00 02 */	li r3, 2
/* 800C58FC 000C07FC  48 00 00 08 */	b lbl_800C5904
lbl_800C5900:
/* 800C5900 000C0800  38 60 00 01 */	li r3, 1
lbl_800C5904:
/* 800C5904 000C0804  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800C5908 000C0808  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800C590C 000C080C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800C5910 000C0810  7C 08 03 A6 */	mtlr r0
/* 800C5914 000C0814  38 21 00 20 */	addi r1, r1, 0x20
/* 800C5918 000C0818  4E 80 00 20 */	blr 

.global __read_console
__read_console:
/* 800C591C 000C081C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800C5920 000C0820  7C 08 02 A6 */	mflr r0
/* 800C5924 000C0824  90 01 00 24 */	stw r0, 0x24(r1)
/* 800C5928 000C0828  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800C592C 000C082C  7C BF 2B 78 */	mr r31, r5
/* 800C5930 000C0830  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800C5934 000C0834  7C 9E 23 78 */	mr r30, r4
/* 800C5938 000C0838  48 00 08 F5 */	bl GetUseSerialIO
/* 800C593C 000C083C  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 800C5940 000C0840  40 82 00 0C */	bne lbl_800C594C
/* 800C5944 000C0844  38 60 00 01 */	li r3, 1
/* 800C5948 000C0848  48 00 00 78 */	b lbl_800C59C0
lbl_800C594C:
/* 800C594C 000C084C  4B FF D8 E1 */	bl GetTRKConnected
/* 800C5950 000C0850  2C 03 00 00 */	cmpwi r3, 0
/* 800C5954 000C0854  40 82 00 0C */	bne lbl_800C5960
/* 800C5958 000C0858  38 60 00 01 */	li r3, 1
/* 800C595C 000C085C  48 00 00 64 */	b lbl_800C59C0
lbl_800C5960:
/* 800C5960 000C0860  80 1F 00 00 */	lwz r0, 0(r31)
/* 800C5964 000C0864  7F C6 F3 78 */	mr r6, r30
/* 800C5968 000C0868  38 A1 00 08 */	addi r5, r1, 8
/* 800C596C 000C086C  38 60 00 D1 */	li r3, 0xd1
/* 800C5970 000C0870  90 01 00 08 */	stw r0, 8(r1)
/* 800C5974 000C0874  38 80 00 00 */	li r4, 0
/* 800C5978 000C0878  4B FF FB 59 */	bl TRKAccessFile
/* 800C597C 000C087C  54 60 06 3E */	clrlwi r0, r3, 0x18
/* 800C5980 000C0880  80 61 00 08 */	lwz r3, 8(r1)
/* 800C5984 000C0884  2C 00 00 01 */	cmpwi r0, 1
/* 800C5988 000C0888  90 7F 00 00 */	stw r3, 0(r31)
/* 800C598C 000C088C  41 82 00 30 */	beq lbl_800C59BC
/* 800C5990 000C0890  40 80 00 10 */	bge lbl_800C59A0
/* 800C5994 000C0894  2C 00 00 00 */	cmpwi r0, 0
/* 800C5998 000C0898  40 80 00 14 */	bge lbl_800C59AC
/* 800C599C 000C089C  48 00 00 20 */	b lbl_800C59BC
lbl_800C59A0:
/* 800C59A0 000C08A0  2C 00 00 03 */	cmpwi r0, 3
/* 800C59A4 000C08A4  40 80 00 18 */	bge lbl_800C59BC
/* 800C59A8 000C08A8  48 00 00 0C */	b lbl_800C59B4
lbl_800C59AC:
/* 800C59AC 000C08AC  38 60 00 00 */	li r3, 0
/* 800C59B0 000C08B0  48 00 00 10 */	b lbl_800C59C0
lbl_800C59B4:
/* 800C59B4 000C08B4  38 60 00 02 */	li r3, 2
/* 800C59B8 000C08B8  48 00 00 08 */	b lbl_800C59C0
lbl_800C59BC:
/* 800C59BC 000C08BC  38 60 00 01 */	li r3, 1
lbl_800C59C0:
/* 800C59C0 000C08C0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800C59C4 000C08C4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800C59C8 000C08C8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800C59CC 000C08CC  7C 08 03 A6 */	mtlr r0
/* 800C59D0 000C08D0  38 21 00 20 */	addi r1, r1, 0x20
/* 800C59D4 000C08D4  4E 80 00 20 */	blr 
